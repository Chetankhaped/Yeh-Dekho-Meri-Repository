import{r as n}from"./react-DlxZUTCp-1759842755623.js";import{z as F,f as V,R as Z}from"./react-remove-scroll-bar-CNq0fS3a-1759842755623.js";import{c as z,e as G}from"./use-sidecar-BwhRgdM9-1759842755623.js";import{u as K}from"./use-callback-ref-VNxSiPgx-1759842755623.js";import{s as Q}from"./react-style-singleton-BnlMSeKT-1759842755623.js";var w=function(){return w=Object.assign||function(r){for(var l,t=1,i=arguments.length;t<i;t++){l=arguments[t];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(r[c]=l[c])}return r},w.apply(this,arguments)};function U(e,r){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)r.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(l[t[i]]=e[t[i]]);return l}function _(e,r,l){if(l||arguments.length===2)for(var t=0,i=r.length,c;t<i;t++)(c||!(t in r))&&(c||(c=Array.prototype.slice.call(r,0,t)),c[t]=r[t]);return e.concat(c||Array.prototype.slice.call(r))}var I=z(),T=function(){},L=n.forwardRef(function(e,r){var l=n.useRef(null),t=n.useState({onScrollCapture:T,onWheelCapture:T,onTouchMoveCapture:T}),i=t[0],c=t[1],h=e.forwardProps,u=e.children,m=e.className,S=e.removeScrollBar,b=e.enabled,C=e.shards,P=e.sideCar,R=e.noRelative,E=e.noIsolation,a=e.inert,o=e.allowPinchZoom,v=e.as,s=v===void 0?"div":v,d=e.gapMode,g=U(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),f=P,k=K([l,r]),y=w(w({},g),i);return n.createElement(n.Fragment,null,b&&n.createElement(f,{sideCar:I,removeScrollBar:S,shards:C,noRelative:R,noIsolation:E,inert:a,setCallbacks:c,allowPinchZoom:!!o,lockRef:l,gapMode:d}),h?n.cloneElement(n.Children.only(u),w(w({},y),{ref:k})):n.createElement(s,w({},y,{className:m,ref:k}),u))});L.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};L.classNames={fullWidth:V,zeroRight:F};var D=!1;if(typeof window<"u")try{var B=Object.defineProperty({},"passive",{get:function(){return D=!0,!0}});window.addEventListener("test",B,B),window.removeEventListener("test",B,B)}catch{D=!1}var p=D?{passive:!1}:!1,q=function(e){return e.tagName==="TEXTAREA"},j=function(e,r){if(!(e instanceof Element))return!1;var l=window.getComputedStyle(e);return l[r]!=="hidden"&&!(l.overflowY===l.overflowX&&!q(e)&&l[r]==="visible")},J=function(e){return j(e,"overflowY")},$=function(e){return j(e,"overflowX")},Y=function(e,r){var l=r.ownerDocument,t=r;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var i=H(e,t);if(i){var c=x(e,t),h=c[1],u=c[2];if(h>u)return!0}t=t.parentNode}while(t&&t!==l.body);return!1},ee=function(e){var r=e.scrollTop,l=e.scrollHeight,t=e.clientHeight;return[r,l,t]},re=function(e){var r=e.scrollLeft,l=e.scrollWidth,t=e.clientWidth;return[r,l,t]},H=function(e,r){return e==="v"?J(r):$(r)},x=function(e,r){return e==="v"?ee(r):re(r)},te=function(e,r){return e==="h"&&r==="rtl"?-1:1},ae=function(e,r,l,t,i){var c=te(e,window.getComputedStyle(r).direction),h=c*t,u=l.target,m=r.contains(u),S=!1,b=h>0,C=0,P=0;do{if(!u)break;var R=x(e,u),E=R[0],a=R[1],o=R[2],v=a-o-c*E;(E||v)&&H(e,u)&&(C+=v,P+=E);var s=u.parentNode;u=s&&s.nodeType===Node.DOCUMENT_FRAGMENT_NODE?s.host:s}while(!m&&u!==document.body||m&&(r.contains(u)||r===u));return(b&&Math.abs(C)<1||!b&&Math.abs(P)<1)&&(S=!0),S},N=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},A=function(e){return[e.deltaX,e.deltaY]},W=function(e){return e&&"current"in e?e.current:e},ne=function(e,r){return e[0]===r[0]&&e[1]===r[1]},le=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},oe=0,M=[];function ce(e){var r=n.useRef([]),l=n.useRef([0,0]),t=n.useRef(),i=n.useState(oe++)[0],c=n.useState(Q)[0],h=n.useRef(e);n.useEffect(function(){h.current=e},[e]),n.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var a=_([e.lockRef.current],(e.shards||[]).map(W),!0).filter(Boolean);return a.forEach(function(o){return o.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),a.forEach(function(o){return o.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=n.useCallback(function(a,o){if("touches"in a&&a.touches.length===2||a.type==="wheel"&&a.ctrlKey)return!h.current.allowPinchZoom;var v=N(a),s=l.current,d="deltaX"in a?a.deltaX:s[0]-v[0],g="deltaY"in a?a.deltaY:s[1]-v[1],f,k=a.target,y=Math.abs(d)>Math.abs(g)?"h":"v";if("touches"in a&&y==="h"&&k.type==="range")return!1;var O=Y(y,k);if(!O)return!0;if(O?f=y:(f=y==="v"?"h":"v",O=Y(y,k)),!O)return!1;if(!t.current&&"changedTouches"in a&&(d||g)&&(t.current=f),!f)return!0;var X=t.current||f;return ae(X,o,a,X==="h"?d:g)},[]),m=n.useCallback(function(a){var o=a;if(!(!M.length||M[M.length-1]!==c)){var v="deltaY"in o?A(o):N(o),s=r.current.filter(function(f){return f.name===o.type&&(f.target===o.target||o.target===f.shadowParent)&&ne(f.delta,v)})[0];if(s&&s.should){o.cancelable&&o.preventDefault();return}if(!s){var d=(h.current.shards||[]).map(W).filter(Boolean).filter(function(f){return f.contains(o.target)}),g=d.length>0?u(o,d[0]):!h.current.noIsolation;g&&o.cancelable&&o.preventDefault()}}},[]),S=n.useCallback(function(a,o,v,s){var d={name:a,delta:o,target:v,should:s,shadowParent:ie(v)};r.current.push(d),setTimeout(function(){r.current=r.current.filter(function(g){return g!==d})},1)},[]),b=n.useCallback(function(a){l.current=N(a),t.current=void 0},[]),C=n.useCallback(function(a){S(a.type,A(a),a.target,u(a,e.lockRef.current))},[]),P=n.useCallback(function(a){S(a.type,N(a),a.target,u(a,e.lockRef.current))},[]);n.useEffect(function(){return M.push(c),e.setCallbacks({onScrollCapture:C,onWheelCapture:C,onTouchMoveCapture:P}),document.addEventListener("wheel",m,p),document.addEventListener("touchmove",m,p),document.addEventListener("touchstart",b,p),function(){M=M.filter(function(a){return a!==c}),document.removeEventListener("wheel",m,p),document.removeEventListener("touchmove",m,p),document.removeEventListener("touchstart",b,p)}},[]);var R=e.removeScrollBar,E=e.inert;return n.createElement(n.Fragment,null,E?n.createElement(c,{styles:le(i)}):null,R?n.createElement(Z,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ie(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const ue=G(I,ce);var se=n.forwardRef(function(e,r){return n.createElement(L,w({},e,{ref:r,sideCar:ue}))});se.classNames=L.classNames;export{se as R};
